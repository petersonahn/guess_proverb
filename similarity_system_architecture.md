# ğŸ§  AI í•™ìŠµ ê¸°ë°˜ ì†ë‹´ ìœ ì‚¬ë„ ê²€ì‚¬ ì‹œìŠ¤í…œ êµ¬ì¡°

## ğŸ“‹ ì‹œìŠ¤í…œ ê°œìš”

ê¸°ì¡´ì˜ í•˜ë“œì½”ë”©ëœ ë°©ì‹ì„ ì™„ì „íˆ ëœ¯ì–´ê³ ì³ì„œ **AI ëª¨ë¸ì´ proverb í…Œì´ë¸”ì˜ ì‹¤ì œ ë°ì´í„°ë¥¼ í•™ìŠµ**í•˜ì—¬ ì§€ëŠ¥ì ìœ¼ë¡œ ì˜ˆì™¸ì‚¬í•­ì„ ê°ì§€í•˜ê³  ì²˜ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œìœ¼ë¡œ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI í•™ìŠµ ê¸°ë°˜ Similarity ì‹œìŠ¤í…œ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ë°ì´í„° í•™ìŠµ ë‹¨ê³„  â”‚    â”‚   ê²€ì‚¬ ì‹¤í–‰ ë‹¨ê³„  â”‚    â”‚  ë°±ì—… ì‹œìŠ¤í…œ   â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â”‚ ProverbDataLearner â”‚    â”‚ IntelligentProverbChecker â”‚    â”‚ EnhancedChecker â”‚ â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚    â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                       â”‚                       â”‚     â”‚
â”‚           â–¼                       â–¼                       â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚     â”‚
â”‚  â”‚  íŒ¨í„´ í•™ìŠµ ëª¨ë“ˆ   â”‚    â”‚  ì§€ëŠ¥ì  ê²€ì‚¬ ëª¨ë“ˆ â”‚              â”‚     â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ ë™ë¬¼ ë‹¨ì–´ ì¶”ì¶œ  â”‚    â”‚ â€¢ ë™ë¬¼ í˜¼ë™ ê°ì§€  â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ ë¶€ì • í‘œí˜„ í•™ìŠµ  â”‚    â”‚ â€¢ ì˜ë¯¸ ë°˜ì „ ê°ì§€  â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ ë°˜ì˜ì–´ ê´€ê³„ í•™ìŠµ â”‚    â”‚ â€¢ í•µì‹¬ ë‹¨ì–´ ê²€ì‚¬  â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ ë¬¸ë§¥ ê·¸ë£¹ ìƒì„±  â”‚    â”‚ â€¢ ì¢…í•© ì ìˆ˜ ê³„ì‚°  â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ ì¤‘ìš”ë„ ê³„ì‚°    â”‚    â”‚                 â”‚              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚     â”‚
â”‚           â”‚                       â”‚                       â”‚     â”‚
â”‚           â–¼                       â–¼                       â”‚     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚     â”‚
â”‚  â”‚  í•™ìŠµëœ íŒ¨í„´ ì €ì¥  â”‚    â”‚  ìµœì¢… ìœ ì‚¬ë„ ì ìˆ˜ â”‚              â”‚     â”‚
â”‚  â”‚                 â”‚    â”‚                 â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ learned_patterns â”‚    â”‚ â€¢ base_similarity â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ animal_groups   â”‚    â”‚ â€¢ AI_penalties  â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ opposite_pairs  â”‚    â”‚ â€¢ final_score   â”‚              â”‚     â”‚
â”‚  â”‚ â€¢ critical_words  â”‚    â”‚                 â”‚              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚     â”‚
â”‚                                                           â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ ë™ì‘ ì›ë¦¬

### 1ë‹¨ê³„: ë°ì´í„° í•™ìŠµ (ProverbDataLearner)

```python
# proverb í…Œì´ë¸”ì—ì„œ 84ê°œ ì†ë‹´ ë°ì´í„° ë¡œë“œ
proverb_data = load_proverb_data()

# ê°ì¢… íŒ¨í„´ ìë™ í•™ìŠµ
animals = extract_animals_from_data()        # 40ê°œ ë™ë¬¼ ë‹¨ì–´ ì¶”ì¶œ
negations = extract_negation_patterns()      # 11ê°œ ë¶€ì • í‘œí˜„ ì¶”ì¶œ
opposites = learn_semantic_opposites()       # BERT ê¸°ë°˜ ë°˜ì˜ì–´ í•™ìŠµ
contexts = learn_context_groups()           # TF-IDF í´ëŸ¬ìŠ¤í„°ë§
critical = learn_critical_words()           # ì¤‘ìš”ë„ ê¸°ë°˜ í•µì‹¬ ë‹¨ì–´
```

**í•™ìŠµ ê²°ê³¼ ì˜ˆì‹œ:**
```python
learned_patterns = {
    'animals': {'ê°œ', 'ê²Œ', 'ì†Œ', 'ë§', 'ê°œêµ¬ë¦¬', 'ì˜¬ì±™ì´', ...},
    'animal_groups': {
        'ê°‘ê°ë¥˜': ['ê²Œ', 'ìƒˆìš°', 'ê¼´ëšœê¸°'],
        'í¬ìœ ë¥˜': ['ê°œ', 'ì†Œ', 'ë§', 'ê³ ì–‘ì´', 'í˜¸ë‘ì´', ...],
        'ì¡°ë¥˜': ['ìƒˆ', 'ë±ìƒˆ', 'í™©ìƒˆ']
    },
    'opposite_pairs': {
        'ìˆë‹¤': ['ì—†ë‹¤', 'ì—†ì–´'],
        'ì¢‹ë‹¤': ['ë‚˜ì˜ë‹¤', 'ë‚˜ë¹ '],
        'ì•Œë‹¤': ['ëª¨ë¥´ë‹¤', 'ëª¨ë¥¸ë‹¤']
    },
    'critical_words': {
        'ê°œêµ¬ë¦¬': 0.30,    # 70% ê°ì 
        'ì˜¬ì±™ì´': 0.30,    # 70% ê°ì 
        'ì³‡ë°”í€´': 0.20,    # 80% ê°ì 
        'ìš°ë¬¼': 0.50       # 50% ê°ì 
    }
}
```

### 2ë‹¨ê³„: ì§€ëŠ¥ì  ê²€ì‚¬ (IntelligentProverbChecker)

```python
def comprehensive_check(original, user_input, base_similarity):
    final_score = base_similarity
    
    # 1. ë™ë¬¼ í˜¼ë™ ê°ì§€
    animal_penalty = detect_animal_confusion(original, user_input)
    # "ê²Œ" â†’ "ê°œ" ê°ì§€ì‹œ 0.01 (99% ê°ì )
    
    # 2. ì˜ë¯¸ì  ë°˜ì „ ê°ì§€  
    opposite_penalty = detect_semantic_opposite(original, user_input)
    # "ê³ ì™€ì•¼" â†’ "ë‚˜ì˜ë©´" ê°ì§€ì‹œ 0.01 (99% ê°ì )
    
    # 3. í•µì‹¬ ë‹¨ì–´ ëˆ„ë½ ê°ì§€
    critical_penalty = detect_critical_word_missing(original, user_input)
    # í•™ìŠµëœ ì¤‘ìš”ë„ì— ë”°ë¼ ì°¨ë“± íŒ¨ë„í‹°
    
    final_score *= animal_penalty * opposite_penalty * critical_penalty
    return min(final_score, 1.0)
```

## ğŸ¯ í•µì‹¬ ê²€ì‚¬ ë¡œì§

### 1. ë™ë¬¼ í˜¼ë™ ê°ì§€
```python
def detect_animal_confusion(original, user_input):
    # ì›ë³¸: "ë§ˆíŒŒëŒì— ê²Œëˆˆ ê°ì¶”ë“¯"
    # ì…ë ¥: "ë§ˆíŒŒëŒì— ê°œëˆˆ ê°ì¶”ë“¯"
    
    orig_animals = ['ê²Œ']      # ê°‘ê°ë¥˜
    user_animals = ['ê°œ']      # í¬ìœ ë¥˜
    
    # ë‹¤ë¥¸ ê·¸ë£¹ì˜ ë™ë¬¼ë¡œ ë°”ë€œ â†’ 99% ê°ì 
    if orig_group != user_group:
        return 0.01
```

### 2. ì˜ë¯¸ì  ë°˜ì „ ê°ì§€
```python
def detect_semantic_opposite(original, user_input):
    # ì›ë³¸: "ê°€ëŠ” ë§ì´ ê³ ì™€ì•¼"
    # ì…ë ¥: "ê°€ëŠ” ë§ì´ ë‚˜ì˜ë©´"
    
    # BERT ëª¨ë¸ë¡œ ì˜ë¯¸ì  ìœ ì‚¬ë„ ê³„ì‚°
    similarity = bert_model.similarity("ê³ ì™€ì•¼", "ë‚˜ì˜ë©´")
    
    # ìœ ì‚¬ë„ê°€ ë§¤ìš° ë‚®ìœ¼ë©´ ë°˜ëŒ€ ì˜ë¯¸ë¡œ íŒë‹¨
    if similarity < 0.3:
        return 0.01  # 99% ê°ì 
```

### 3. í•µì‹¬ ë‹¨ì–´ ëˆ„ë½ ê°ì§€
```python
def detect_critical_word_missing(original, user_input):
    # í•™ìŠµëœ ì¤‘ìš”ë„ ê¸°ë°˜ íŒ¨ë„í‹° ì ìš©
    for word, penalty_factor in critical_words.items():
        if word in original and word not in user_input:
            penalty *= penalty_factor
    
    # ì˜ˆ: "ê°œêµ¬ë¦¬" ëˆ„ë½ì‹œ 0.30 (70% ê°ì )
    # ì˜ˆ: "ìš°ë¬¼" ëˆ„ë½ì‹œ 0.50 (50% ê°ì )
```

## ğŸ”§ ì‹œìŠ¤í…œ í†µí•©

### ë©”ì¸ ê²€ì‚¬ í•¨ìˆ˜ (similarity_check.py)
```python
def check_proverb(user_input, answers, threshold):
    # 1ìˆœìœ„: AI í•™ìŠµ ì‹œìŠ¤í…œ ì‚¬ìš©
    if AI_LEARNING_AVAILABLE:
        checker = IntelligentProverbChecker()
        return checker.comprehensive_check(...)
    
    # 2ìˆœìœ„: í–¥ìƒëœ ì‹œìŠ¤í…œ ì‚¬ìš© (ë°±ì—…)
    elif ENHANCED_CHECKER_AVAILABLE:
        checker = EnhancedProverbSimilarityChecker()
        return checker.check_proverb(...)
    
    # 3ìˆœìœ„: ê¸°ë³¸ BERT ì‹œìŠ¤í…œ ì‚¬ìš© (ìµœì¢… ë°±ì—…)
    else:
        return basic_bert_check(...)
```

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

| êµ¬ë¶„ | ê¸°ì¡´ í•˜ë“œì½”ë”© ë°©ì‹ | AI í•™ìŠµ ë°©ì‹ |
|------|-------------------|--------------|
| **ë™ë¬¼ í˜¼ë™** | `ANIMAL_PAIRS = [('ê²Œ', 'ê°œ')]` | ìë™ í•™ìŠµìœ¼ë¡œ 40ê°œ ë™ë¬¼ ë¶„ë¥˜ |
| **ì˜ë¯¸ ë°˜ì „** | `CRITICAL_TYPOS = {'ì—†ë‹¤': ['ìˆë‹¤']}` | BERT ê¸°ë°˜ ìë™ ê°ì§€ |
| **í•µì‹¬ ë‹¨ì–´** | `CRITICAL_PROVERB_WORDS = {...}` | ì¤‘ìš”ë„ ê¸°ë°˜ ë™ì  ê³„ì‚° |
| **í™•ì¥ì„±** | ìƒˆ ì†ë‹´ë§ˆë‹¤ í•˜ë“œì½”ë”© í•„ìš” | ìë™ í•™ìŠµìœ¼ë¡œ ë¬´í•œ í™•ì¥ |
| **ìœ ì§€ë³´ìˆ˜** | ìˆ˜ë™ìœ¼ë¡œ íŒ¨í„´ ì¶”ê°€/ìˆ˜ì • | ë°ì´í„° ê¸°ë°˜ ìë™ ê°œì„  |

## ğŸš€ ì£¼ìš” ì¥ì 

### 1. **ì™„ì „ ìë™í™”**
- proverb í…Œì´ë¸” ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìë™ í•™ìŠµ
- ìƒˆë¡œìš´ ì†ë‹´ ì¶”ê°€ì‹œ ìë™ìœ¼ë¡œ íŒ¨í„´ í•™ìŠµ
- í•˜ë“œì½”ë”© ì—†ì´ ì§€ëŠ¥ì  ì²˜ë¦¬

### 2. **ì •í™•í•œ ê°ì§€**
- "ê²Œ" â†’ "ê°œ" ë™ë¬¼ í˜¼ë™: 99% ê°ì 
- "ê³ ì™€ì•¼" â†’ "ë‚˜ì˜ë©´" ì˜ë¯¸ ë°˜ì „: 99% ê°ì   
- í•µì‹¬ ë‹¨ì–´ ëˆ„ë½: ì¤‘ìš”ë„ì— ë”°ë¼ ì°¨ë“± ê°ì 

### 3. **í™•ì¥ì„±**
- 84ê°œ ì†ë‹´ â†’ ë¬´ì œí•œ í™•ì¥ ê°€ëŠ¥
- ìƒˆë¡œìš´ ì˜ˆì™¸ì‚¬í•­ ìë™ í•™ìŠµ
- ë°ì´í„° ê¸°ë°˜ ì§€ì†ì  ê°œì„ 

### 4. **ì•ˆì •ì„±**
- 3ë‹¨ê³„ ë°±ì—… ì‹œìŠ¤í…œ (AI â†’ Enhanced â†’ Basic)
- ì˜¤ë¥˜ ë°œìƒì‹œ ìë™ìœ¼ë¡œ í•˜ìœ„ ì‹œìŠ¤í…œ ì‚¬ìš©
- ê¸°ì¡´ ì½”ë“œì™€ ì™„ì „ í˜¸í™˜

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

```python
# ê¸°ì¡´ ì½”ë“œ ê·¸ëŒ€ë¡œ ì‚¬ìš©
from services.similarity.similarity_check import check_proverb

# AIê°€ ìë™ìœ¼ë¡œ ëª¨ë“  ì˜ˆì™¸ì‚¬í•­ì„ ê°ì§€
is_correct, matched, score = check_proverb(
    "ë§ˆíŒŒëŒì— ê°œëˆˆ ê°ì¶”ë“¯",  # ì‚¬ìš©ì ì…ë ¥ (ê²Œâ†’ê°œ í˜¼ë™)
    ["ë§ˆíŒŒëŒì— ê²Œëˆˆ ê°ì¶”ë“¯"], # ì •ë‹µ
    0.5  # ì„ê³„ê°’
)

# ê²°ê³¼: is_correct = False, score = 0.01 (99% ê°ì )
```

ì´ì œ í•˜ë“œì½”ë”© ì—†ì´ë„ AIê°€ proverb í…Œì´ë¸”ì˜ ëª¨ë“  ì˜ˆì™¸ì‚¬í•­ì„ ìë™ìœ¼ë¡œ í•™ìŠµí•˜ê³  ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸ‰
