* { margin: 0; padding: 0; box-sizing: border-box; }
body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh; position: relative; overflow-x: hidden;
}
.bg-decorations { position:absolute; top:0; left:0; width:100%; height:100%; opacity:.1; pointer-events:none; z-index:0; overflow:hidden;}
.particle { position:absolute; background:white; border-radius:50%; animation: float 6s ease-in-out infinite; }
.particle:nth-child(1){width:20px;height:20px;top:20%;left:10%;animation-delay:0s;}
.particle:nth-child(2){width:15px;height:15px;top:60%;left:80%;animation-delay:2s;}
.particle:nth-child(3){width:25px;height:25px;top:80%;left:20%;animation-delay:4s;}
.particle:nth-child(4){width:12px;height:12px;top:30%;left:70%;animation-delay:1s;}
.particle:nth-child(5){width:18px;height:18px;top:70%;left:60%;animation-delay:3s;}
@keyframes float { 0%,100%{transform:translateY(0) rotate(0)} 25%{transform:translateY(-20px) rotate(90deg)} 50%{transform:translateY(0) rotate(180deg)} 75%{transform:translateY(-10px) rotate(270deg)} }
.glass { background: rgba(255,255,255,.15); backdrop-filter: blur(15px); border:1px solid rgba(255,255,255,.2); }
.container { position:relative; z-index:1; min-height:100vh; padding:20px; }
.top-nav { background: rgba(255,255,255,.12); backdrop-filter: blur(20px); padding:20px 40px; display:flex; justify-content:space-between; align-items:center; border-radius:15px; margin-bottom:40px; border:1px solid rgba(255,255,255,.2); box-shadow:0 8px 32px rgba(0,0,0,.1); }
.nav-title { font-size:20px; font-weight:700; color:white; text-shadow:0 2px 4px rgba(0,0,0,.3); }
.nav-mode { font-size:14px; color:rgba(255,255,255,.9); padding:8px 16px; background:rgba(255,255,255,.1); border-radius:20px; border:1px solid rgba(255,255,255,.2); text-decoration: none; }
.info-cards { position:absolute; top:140px; left:50%; transform:translateX(-50%); display:flex; justify-content:center; z-index:2; }
.info-card { background:rgba(255,255,255,.95); border-radius:25px; padding:30px 45px; min-width:320px; box-shadow:0 20px 50px rgba(0,0,0,.15); border:1px solid rgba(255,255,255,.3); display:flex; align-items:center; gap:25px; transition:all .4s ease; position:relative; overflow:hidden; }
.info-card::before{content:''; position:absolute; top:0; left:-100%; width:100%; height:100%; background:linear-gradient(90deg,transparent,rgba(102,126,234,.1),transparent); transition:left .8s ease;}
.info-card:hover::before{ left:100%; }
.info-card:hover{ transform: translateY(-8px); box-shadow:0 25px 60px rgba(0,0,0,.2); }
.info-icon { width:70px;height:70px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;font-weight:bold;color:white;flex-shrink:0;position:relative;box-shadow:0 8px 20px rgba(0,0,0,.2); }
.player-icon { background: linear-gradient(135deg,#667eea,#764ba2); box-shadow:0 8px 25px rgba(102,126,234,.4); }
.info-text { flex:1; }
.info-title { font-size:20px; font-weight:700; color:#2c3e50; margin-bottom:12px; }
.info-details { display:flex; justify-content:space-between; align-items:center; gap:25px; }
.info-left{flex:1;}
.info-right{text-align:right;}
.info-subtitle{font-size:14px;color:#6c757d;line-height:1.6;}
.current-score{font-size:28px;font-weight:bold;color:#667eea;margin-bottom:5px;text-shadow:0 2px 4px rgba(0,0,0,.1);}
.score-label{font-size:12px;color:#6c757d;font-weight:500;}
.game-card{background:rgba(255,255,255,.95); border-radius:30px; padding:60px 50px 50px; max-width:750px; margin:260px auto 0; box-shadow:0 25px 60px rgba(0,0,0,.15); border:1px solid rgba(255,255,255,.3); position:relative; overflow:hidden;}
.game-card::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,#667eea,#764ba2,#667eea);animation:shimmer 3s ease-in-out infinite;}
@keyframes shimmer{0%{opacity:.5}50%{opacity:1}100%{opacity:.5}}
.game-header{text-align:center;margin-bottom:50px;}
.game-title{font-size:28px;font-weight:300;color:#2c3e50;margin-bottom:25px;position:relative;}
.progress-container{margin:0 auto 25px;width:350px;}
.time-bar{width:100%;height:12px;background:rgba(102,126,234,.1);border-radius:50px;overflow:hidden;position:relative;border:2px solid rgba(102,126,234,.2);}
.time-fill{height:100%;background:linear-gradient(90deg,#28a745,#20c997);width:100%;border-radius:50px;transition:all .3s ease;position:relative;overflow:hidden;}
.time-fill.warning{background:linear-gradient(90deg,#ffc107,#ff8f00);}
.time-fill.danger{background:linear-gradient(90deg,#dc3545,#c82333);animation:pulse-danger 1s infinite;}
@keyframes pulse-danger{0%,100%{opacity:1}50%{opacity:.7}}
.time-fill::after{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:time-shine 2s infinite;}
@keyframes time-shine{0%{left:-100%}100%{left:100%}}
.time-text{font-size:16px;color:#495057;margin-top:15px;font-weight:600;text-align:center;}
#timeDisplay{color:#28a745;font-weight:bold;font-size:18px;}
#timeDisplay.warning{color:#ffc107;}
#timeDisplay.danger{color:#dc3545;animation:pulse-text 1s infinite;}
@keyframes pulse-text{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
.question-area{text-align:center;margin-bottom:50px;position:relative;}
.question-text{font-family:'Georgia',serif;font-size:32px;color:#2c3e50;margin-bottom:40px;line-height:1.4;position:relative;display:inline-block;}
.question-text::before,.question-text::after{content:'"';font-size:40px;color:#667eea;opacity:.3;position:absolute;}
.question-text::before{left:-30px;top:-5px;}
.question-text::after{right:-30px;bottom:-5px;}
.input-container{position:relative;max-width:450px;margin:0 auto;}
.answer-input{width:100%;height:60px;border:2px solid rgba(102,126,234,.3);border-radius:30px;padding:0 30px;font-size:18px;background:rgba(255,255,255,.8);outline:none;transition:all .4s ease;color:#2c3e50;text-align:center;box-shadow:0 4px 15px rgba(0,0,0,.1);}
.answer-input:focus{border-color:#667eea;background:rgba(255,255,255,.95);box-shadow:0 8px 25px rgba(102,126,234,.2);transform:translateY(-2px);}
.answer-input::placeholder{color:#adb5bd;font-style:italic;}
.action-buttons{display:flex;justify-content:center;gap:20px;margin-bottom:50px;}
.btn{padding:15px 30px;border:none;border-radius:25px;font-size:16px;font-weight:600;cursor:pointer;transition:all .4s ease;box-shadow:0 6px 20px rgba(0,0,0,.15);position:relative;overflow:hidden;}
.btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .5s ease;}
.btn:hover::before{left:100%;}
.btn:hover{transform:translateY(-3px);box-shadow:0 10px 30px rgba(0,0,0,.25);}
.btn:active{transform:translateY(-1px);}
.btn-hint{background:linear-gradient(135deg,#17a2b8,#0c7b8a);color:white;border:1px solid rgba(255,255,255,.2);}
.btn-skip{background:linear-gradient(135deg,#6c757d,#495057);color:white;border:1px solid rgba(255,255,255,.2);}
.btn-submit{background:linear-gradient(135deg,#28a745,#1e7e34);color:white;border:1px solid rgba(255,255,255,.2);}
.btn-reload{background:linear-gradient(135deg,#c0b3ca,#a25eaf);color:white;border:1px solid rgba(255,255,255,.2);}
.game-info{display:flex;justify-content:center;align-items:center;gap:40px;padding:20px;background:rgba(102,126,234,.05);border-radius:15px;border:1px solid rgba(102,126,234,.1);}
.info-item{display:flex;align-items:center;gap:8px;}
.info-icon-small{font-size:18px;}
.info-text-small{font-size:14px;color:#495057;font-weight:500;}
.info-text-small span{color:#667eea;font-weight:bold;}
.version{position:fixed;bottom:30px;right:50%;transform:translateX(50%);width:60px;height:60px;border:2px solid rgba(255,255,255,.3);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;color:rgba(255,255,255,.8);opacity:.7;background:rgba(255,255,255,.1);backdrop-filter:blur(10px);transition:all .3s ease;}
.version:hover{opacity:1;transform:translateX(-50%) scale(1.1);}
@media (max-width:768px){
    .container{padding:15px;}
    .top-nav{padding:15px 25px;border-radius:10px;}
    .nav-title{font-size:18px;}
    .info-cards{position:relative;top:0;transform:none;margin-bottom:30px;}
    .info-card{min-width:280px;padding:25px 30px;}
    .info-icon{width:60px;height:60px;font-size:24px;}
    .info-title{font-size:18px;}
    .current-score{font-size:24px;}
    .game-card{margin-top:0;padding:40px 30px;border-radius:25px;}
    .question-text{font-size:26px;}
    .answer-input{height:55px;font-size:16px;}
    .action-buttons{flex-direction:column;align-items:center;}
    .btn{width:220px;}
    .game-info{flex-direction:column;gap:15px;}
}
.score-pulse{animation:pulse .6s ease-out;}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}


/* ===== Ranking Modal ===== */
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:10;}
.modal{width:90%;max-width:520px;background:rgba(255,255,255,.96);border:1px solid rgba(255,255,255,.3);border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,.25);overflow:hidden;}
.modal-header{padding:18px 22px;background:linear-gradient(90deg,#667eea22,#764ba222);border-bottom:1px solid rgba(0,0,0,.06);display:flex;justify-content:space-between;align-items:center;}
.modal-title{font-size:18px;font-weight:700;color:#2c3e50;}
.modal-close{background:transparent;border:0;font-size:22px;cursor:pointer;opacity:.6}
.modal-close:hover{opacity:1}
.modal-body{padding:22px 24px;color:#2c3e50}
.modal-body .score-box{font-size:28px;font-weight:800;color:#667eea;margin-bottom:14px;}
.modal-body .desc{color:#6c757d;margin-bottom:14px}
.input-row{display:flex;gap:10px;margin-top:10px}
.input-row input{flex:1;height:48px;border:2px solid rgba(102,126,234,.3);border-radius:12px;padding:0 14px;font-size:16px;outline:none}
.input-row input:focus{border-color:#667eea;box-shadow:0 6px 16px rgba(102,126,234,.2)}
.modal-footer{padding:16px 24px;display:flex;gap:10px;justify-content:flex-end;background:rgba(0,0,0,.02);border-top:1px solid rgba(0,0,0,.06)}
.btn-ghost{background:#fff;border:1px solid rgba(0,0,0,.1);color:#495057}
.btn-primary{background:linear-gradient(135deg,#28a745,#1e7e34);color:#fff;border:1px solid rgba(255,255,255,.2)}
.btn-ghost,.btn-primary{padding:12px 18px;border-radius:12px;cursor:pointer;font-weight:700}

/* ===== Leaderboard Page ===== */
.leader-card{background:rgba(255,255,255,.95);border-radius:26px;max-width:900px;margin:180px auto 0;padding:30px 28px;border:1px solid rgba(255,255,255,.3);box-shadow:0 25px 60px rgba(0,0,0,.15);}
.leader-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px}
.leader-title{font-size:26px;font-weight:800;color:#2c3e50}
.leader-actions a,.leader-actions button{padding:10px 14px;border-radius:12px;border:1px solid rgba(0,0,0,.08);background:#fff;text-decoration:none;color:#333;cursor:pointer}
.table-wrap{overflow:auto;border-radius:14px;border:1px solid rgba(0,0,0,.06)}
.leader-table{width:100%;border-collapse:collapse;background:#fff}
.leader-table thead th{background:linear-gradient(90deg,#f7f8ff,#f2f3ff);color:#495057;font-weight:800;font-size:14px;border-bottom:1px solid rgba(0,0,0,.06);padding:14px 12px;text-align:left}
.leader-table tbody td{padding:12px;border-bottom:1px solid rgba(0,0,0,.04);color:#2c3e50}
.leader-table tbody tr:nth-child(even){background:#fafbff}
.badge-rank{display:inline-block;min-width:28px;text-align:center;border-radius:999px;padding:4px 8px;background:#eef2ff;color:#445; font-weight:800}
.empty{padding:30px;color:#6c757d;text-align:center}
@media (max-width:768px){
  .leader-card{margin-top:40px}
}
